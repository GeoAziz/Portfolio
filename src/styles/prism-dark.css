/**
 * Prism Dark Theme Customization
 * 
 * Tailored color scheme matching portfolio design system
 */

@import 'prismjs/themes/prism-dark.min.css';
@import 'prismjs/plugins/line-numbers/prism-line-numbers.css';
@import 'prismjs/plugins/line-highlight/prism-line-highlight.css';

/* Override Prism dark theme colors */
:root {
  --prism-foreground: #e2e8f0;
  --prism-background: #0f172a;
  --prism-string: #a3e635;
  --prism-number: #fbbf24;
  --prism-boolean: #f87171;
  --prism-operator: #60a5fa;
  --prism-keyword: #a78bfa;
  --prism-function: #34d399;
  --prism-comment: #6b7280;
}

/* Code block base styles */
pre[class*='language-'] {
  background: var(--prism-background) !important;
  color: var(--prism-foreground) !important;
  border: 1px solid rgb(30 41 59 / 0.5);
  border-radius: 0.5rem;
  padding: 0 !important;
  margin: 0 !important;
  overflow: visible !important;
}

code[class*='language-'] {
  background: transparent !important;
  color: var(--prism-foreground) !important;
  border-radius: 0 !important;
  padding: 0 !important;
  font-family: 'Monaco', 'Courier New', monospace !important;
}

/* Token colors */
.token.string {
  color: var(--prism-string) !important;
}

.token.number {
  color: var(--prism-number) !important;
}

.token.boolean {
  color: var(--prism-boolean) !important;
}

.token.operator {
  color: var(--prism-operator) !important;
}

.token.keyword {
  color: var(--prism-keyword) !important;
}

.token.function {
  color: var(--prism-function) !important;
}

.token.comment {
  color: var(--prism-comment) !important;
}

.token.class-name {
  color: #60a5fa !important;
}

.token.property {
  color: #93c5fd !important;
}

.token.tag {
  color: #f472b6 !important;
}

.token.attr-name {
  color: #fbbf24 !important;
}

.token.attr-value {
  color: #a3e635 !important;
}

.token.punctuation {
  color: #cbd5e1 !important;
}

/* Prism line numbers */
.line-numbers-wrapper {
  background: rgb(15 23 42 / 0.5) !important;
  border-right: 1px solid rgb(71 84 103 / 0.3) !important;
}

/* Ensure the wrapper is positioned so the copy button can sit inside the code block */
.line-numbers-wrapper {
  position: relative;
  padding-top: 2.25rem; /* space for the language label / copy button */
}

.line-numbers-rows {
  color: rgb(107 114 128 / 0.8) !important;
}

/* Make the visible gutter (line numbers) slightly muted and right-aligned */
.line-numbers-rows {
  font-size: 0.85rem !important;
  line-height: 1.5 !important;
  text-align: right !important;
  padding-right: 0.75rem !important;
}

.line-numbers-rows > span:before {
  color: rgb(107 114 128 / 0.8) !important;
}

/* Line highlight */
.line-highlight {
  background: rgb(6 182 212 / 0.1) !important;
  border-left: 3px solid #06b6d4 !important;
  border-right: 1px solid rgb(6 182 212 / 0.3) !important;
}

/* Copy to clipboard button */
.copy-to-clipboard-button {
  background: rgb(51 65 85 / 0.5) !important;
  color: rgb(203 213 225 / 0.8) !important;
  border: 1px solid rgb(71 84 103 / 0.3) !important;
  border-radius: 0.375rem !important;
  padding: 0.25rem 0.75rem !important;
  font-size: 0.75rem !important;
}

.copy-to-clipboard-button:hover {
  background: rgb(71 84 103 / 0.5) !important;
  color: rgb(226 232 240) !important;
}

.copy-to-clipboard-button.copied {
  background: rgb(16 185 129 / 0.2) !important;
  color: rgb(16 185 129) !important;
}

/* Position the copy button and language label inside the code block at top-right */
.line-numbers-wrapper > .copy-to-clipboard-button,
.line-numbers-wrapper > .code-meta {
  position: absolute;
  right: 0.5rem;
  top: 0.5rem;
  z-index: 10;
}

/* language label: small muted pill on the left of the button */
.line-numbers-wrapper > .code-meta {
  left: 0.5rem;
  right: auto;
  background: transparent !important;
  color: rgb(203 213 225 / 0.75) !important;
  border: none !important;
  font-size: 0.75rem !important;
}

/* Scrollbar styling for code blocks */
pre[class*='language-']::-webkit-scrollbar {
  height: 8px;
  background: rgb(15 23 42 / 0.5);
}

pre[class*='language-']::-webkit-scrollbar-track {
  background: transparent;
}

pre[class*='language-']::-webkit-scrollbar-thumb {
  background: rgb(71 84 103 / 0.5);
  border-radius: 4px;
}

pre[class*='language-']::-webkit-scrollbar-thumb:hover {
  background: rgb(71 84 103 / 0.8);
}

/* Selection color */
pre[class*='language-']::selection {
  background: rgb(59 130 246 / 0.3);
  color: var(--prism-foreground);
}

code[class*='language-']::selection {
  background: rgb(59 130 246 / 0.3);
  color: var(--prism-foreground);
}
